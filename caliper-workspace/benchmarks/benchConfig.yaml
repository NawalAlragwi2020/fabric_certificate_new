test:
  name: integrated-diploma-benchmark-v5
  description: 'الاختبار النهائي الشامل: يدمج الإصدار، التحقق العالي، وإلغاء الشهادات'
  workers:
    type: local
    number: 2
  rounds:
    # 1. جولة الإصدار المجمع
    - label: Issue-Certificates-SHA3-Batch
      description: إصدار شهادات مجمعة ومشفرة بـ SHA-3
      txDuration: 30
      rateControl:
        type: fixed-rate
        opts:
          tps: 50
      workload:
        module: workload/issueDiplomaBatch.js

    #2. جولة التحقق تحت الحمل العالي (High Load)
    - label: Verify-Certificate-High-Load-SHA3
      description: التحقق اللحظي من الشهادات باستخدام SHA-3 تحت حمل عالٍ
      txDuration: 30
      rateControl:
        type: fixed-rate
        opts:
          tps: 200
      workload:
        module: workload/verifyDiploma.js

    # 3. جولة إلغاء الشهادات (الجديدة)
    - label: Revoke-Certificate-Maintenance
      description: إلغاء الشهادات الأكاديمية لضمان سلامة السجلات
      txDuration: 20
      rateControl:
        type: fixed-rate
        opts:
          tps: 20 # معدل منخفض لضمان استقرار النتائج
      workload:
        module: workload/revokeCertificate.js

  #   4. جولة اختبار الجهد المتصاعد
    - label: Stress-Test-Scaling
      description: اختبار قدرة الشبكة حتى 400 TPS
      txDuration: 40
      rateControl:
        type: linear-rate
        opts:
          startingTps: 50
          finishingTps: 400
      workload:
        module: workload/issueDiplomaBatch.js

    # 5. جولة الاستعلام المنضبط
    - label: Query-All-Optimized
      description: جلب كافة الأصول بمعدل منخفض لتجنب ضغط الذاكرة
      txDuration: 15 
      rateControl:
        type: fixed-rate
        opts:
          tps: 1
      workload:
        module: workload/queryAllDiplomas.js